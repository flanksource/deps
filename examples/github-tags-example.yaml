dependencies:
  kubectl: latest
  yq: latest

registry:
  kubectl:
    manager: github_tags
    repo: kubernetes/kubernetes
    url_template: "https://dl.k8s.io/release/{{.tag}}/bin/{{.os}}/{{.arch}}/{{.name}}"
    version_command: "{{.name}} version --client --output yaml"
    version_pattern: 'gitVersion:\s*v([0-9]+\.[0-9]+\.[0-9]+)'

  yq:
    manager: github_tags
    repo: mikefarah/yq
    url_template: "https://github.com/mikefarah/yq/releases/download/{{.tag}}/{{.asset}}"
    asset_patterns:
      linux-amd64: "yq_linux_amd64"
      linux-arm64: "yq_linux_arm64"
      darwin-amd64: "yq_darwin_amd64"
      darwin-arm64: "yq_darwin_arm64"
      windows-amd64: "yq_windows_amd64.exe"
    checksum_file: "https://github.com/mikefarah/yq/releases/download/{{.tag}}/checksums"
    version_command: "{{.name}} --version"
    version_pattern: 'yq\s+(?:version\s+)?v?([0-9]+\.[0-9]+\.[0-9]+)'

settings:
  bin_dir: ./bin
  platform:
    os: linux
    arch: amd64